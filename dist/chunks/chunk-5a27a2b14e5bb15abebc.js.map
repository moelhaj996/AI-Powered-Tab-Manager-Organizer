{"version":3,"file":"chunks/chunk-5a27a2b14e5bb15abebc.js","mappings":"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","sources":["webpack://ai-tab-manager/./node_modules/@tensorflow-models/universal-sentence-encoder/dist/universal-sentence-encoder.esm.js"],"sourcesContent":["/**\n    * @license\n    * Copyright 2021 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport{tensor2d,tensor1d,util,tidy}from\"@tensorflow/tfjs-core\";import{loadGraphModel}from\"@tensorflow/tfjs-converter\";function __awaiter(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,s)}u((r=r.apply(e,n||[])).next())})}function __generator(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var stringToChars=function(e){for(var n=[],t=0,r=e;t<r.length;t++){var o=r[t];n.push(o)}return n},TrieNode=function(){return function(){this.parent=null,this.children={},this.end=!1,this.word=[[],0,0]}}(),Trie=function(){function e(){this.root=new TrieNode}return e.prototype.insert=function(e,n,t){for(var r=this.root,o=stringToChars(e),i=0;i<o.length;i++)r.children[o[i]]||(r.children[o[i]]=new TrieNode,r.children[o[i]].parent=r,r.children[o[i]].word[0]=r.word[0].concat(o[i])),r=r.children[o[i]],i===o.length-1&&(r.end=!0,r.word[1]=n,r.word[2]=t)},e.prototype.commonPrefixSearch=function(e){for(var n=[],t=this.root.children[e[0]],r=0;r<e.length&&t;r++)t.end&&n.push(t.word),t=t.children[e[r+1]];return n.length||n.push([[e[0]],0,0]),n},e}(),separator=\"▁\";function processInput(e){var n=e.normalize(\"NFKC\");return n.length>0?separator+n.replace(/ /g,separator):n}var RESERVED_SYMBOLS_COUNT=6,Tokenizer=function(){function e(e,n){void 0===n&&(n=RESERVED_SYMBOLS_COUNT),this.vocabulary=e,this.reservedSymbolsCount=n,this.trie=new Trie;for(var t=this.reservedSymbolsCount;t<this.vocabulary.length;t++)this.trie.insert(this.vocabulary[t][0],this.vocabulary[t][1],t)}return e.prototype.encode=function(e){var n=[],t=[],r=[];e=processInput(e);for(var o=stringToChars(e),i=0;i<=o.length;i++)n.push({}),t.push(0),r.push(0);for(i=0;i<o.length;i++)for(var a=this.trie.commonPrefixSearch(o.slice(i)),s=0;s<a.length;s++){var u=a[s],l={key:u[0],score:u[1],index:u[2]};null==n[i+(c=u[0].length)][i]&&(n[i+c][i]=[]),n[i+c][i].push(l)}for(var c=0;c<=o.length;c++)for(var h in n[c]){var d=n[c][h];for(s=0;s<d.length;s++){var f=d[s],_=f.score+r[c-f.key.length];(0===r[c]||_>=r[c])&&(r[c]=_,t[c]=d[s].index)}}for(var v=[],p=t.length-1;p>0;)v.push(t[p]),p-=this.vocabulary[t[p]][0].length;var E=[],T=!1;for(i=0;i<v.length;i++){var g=v[i];T&&0===g||E.push(g),T=0===g}return E.reverse()},e}();function loadTokenizer(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,loadVocabulary(e)];case 1:return n=t.sent(),[2,new Tokenizer(n)]}})})}function loadVocabulary(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,util.fetch(e)];case 1:return[2,n.sent().json()]}})})}var version=\"1.3.3\",BASE_PATH=\"https://tfhub.dev/google/tfjs-model/universal-sentence-encoder-qa-ondevice/1\",SKIP_VALUES=[0,1,2],OFFSET=3,INPUT_LIMIT=192,QUERY_NODE_NAME=\"input_inp_text\",RESPONSE_CONTEXT_NODE_NAME=\"input_res_context\",RESPONSE_NODE_NAME=\"input_res_text\",RESPONSE_RESULT_NODE_NAME=\"Final/EncodeResult/mul\",QUERY_RESULT_NODE_NAME=\"Final/EncodeQuery/mul\",RESERVED_SYMBOLS_COUNT$1=3,TOKEN_PADDING=2,TOKEN_START_VALUE=1;function loadQnA(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return[4,(e=new UniversalSentenceEncoderQnA).load()];case 1:return n.sent(),[2,e]}})})}var UniversalSentenceEncoderQnA=function(){function e(){}return e.prototype.loadModel=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,loadGraphModel(BASE_PATH,{fromTFHub:!0})]})})},e.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var e,n,t;return __generator(this,function(r){switch(r.label){case 0:return[4,Promise.all([this.loadModel(),loadVocabulary(BASE_PATH+\"/vocab.json?tfjs-format=file\")])];case 1:return e=r.sent(),n=e[0],t=e[1],this.model=n,this.tokenizer=new Tokenizer(t,RESERVED_SYMBOLS_COUNT$1),[2]}})})},e.prototype.embed=function(e){var n=this,t=tidy(function(){var t=n.tokenizeStrings(e.queries,INPUT_LIMIT),r=n.tokenizeStrings(e.responses,INPUT_LIMIT);if(null!=e.contexts&&e.contexts.length!==e.responses.length)throw new Error(\"The length of response strings and context strings need to match.\");var o=e.contexts||[];null==e.contexts&&(o.length=e.responses.length,o.fill(\"\"));var i=n.tokenizeStrings(o,INPUT_LIMIT),a={};return a[QUERY_NODE_NAME]=t,a[RESPONSE_NODE_NAME]=r,a[RESPONSE_CONTEXT_NODE_NAME]=i,n.model.execute(a,[QUERY_RESULT_NODE_NAME,RESPONSE_RESULT_NODE_NAME])});return{queryEmbedding:t[0],responseEmbedding:t[1]}},e.prototype.tokenizeStrings=function(e,n){var t=this,r=e.map(function(e){return t.shiftTokens(t.tokenizer.encode(e),INPUT_LIMIT)});return tensor2d(r,[e.length,INPUT_LIMIT],\"int32\")},e.prototype.shiftTokens=function(e,n){e.unshift(TOKEN_START_VALUE);for(var t=0;t<n;t++)t>=e.length?e[t]=TOKEN_PADDING:SKIP_VALUES.includes(e[t])||(e[t]+=OFFSET);return e.slice(0,n)},e}(),BASE_PATH$1=\"https://storage.googleapis.com/tfjs-models/savedmodel/universal_sentence_encoder\";function load(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,(n=new UniversalSentenceEncoder).load(e)];case 1:return t.sent(),[2,n]}})})}var UniversalSentenceEncoder=function(){function e(){}return e.prototype.loadModel=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return[2,e?loadGraphModel(e):loadGraphModel(\"https://tfhub.dev/tensorflow/tfjs-model/universal-sentence-encoder-lite/1/default/1\",{fromTFHub:!0})]})})},e.prototype.load=function(e){return void 0===e&&(e={}),__awaiter(this,void 0,void 0,function(){var n,t,r;return __generator(this,function(o){switch(o.label){case 0:return[4,Promise.all([this.loadModel(e.modelUrl),loadVocabulary(e.vocabUrl||BASE_PATH$1+\"/vocab.json\")])];case 1:return n=o.sent(),t=n[0],r=n[1],this.model=t,this.tokenizer=new Tokenizer(r),[2]}})})},e.prototype.embed=function(e){return __awaiter(this,void 0,void 0,function(){var n,t,r,o,i,a,s,u,l=this;return __generator(this,function(c){switch(c.label){case 0:for(\"string\"==typeof e&&(e=[e]),n=e.map(function(e){return l.tokenizer.encode(e)}),t=n.map(function(e,n){return e.map(function(e,t){return[n,t]})}),r=[],o=0;o<t.length;o++)r=r.concat(t[o]);return i=tensor2d(r,[r.length,2],\"int32\"),a=tensor1d(util.flatten(n),\"int32\"),s={indices:i,values:a},[4,this.model.executeAsync(s)];case 1:return u=c.sent(),i.dispose(),a.dispose(),[2,u]}})})},e}();export{load,UniversalSentenceEncoder,Tokenizer,loadTokenizer,loadQnA,version};\n"],"names":["__awaiter","e","n","t","r","Promise","o","i","a","u","next","s","throw","done","value","then","apply","__generator","label","sent","trys","ops","return","Symbol","iterator","this","TypeError","call","pop","length","push","stringToChars","TrieNode","parent","children","end","word","Trie","root","prototype","insert","concat","commonPrefixSearch","Tokenizer","vocabulary","reservedSymbolsCount","trie","encode","normalize","replace","processInput","slice","l","key","score","index","c","h","d","f","_","v","p","E","T","g","reverse","loadTokenizer","loadVocabulary","json","version","BASE_PATH","SKIP_VALUES","INPUT_LIMIT","loadQnA","UniversalSentenceEncoderQnA","load","loadModel","fromTFHub","all","model","tokenizer","embed","tokenizeStrings","queries","responses","contexts","Error","fill","execute","queryEmbedding","responseEmbedding","map","shiftTokens","unshift","includes","UniversalSentenceEncoder","modelUrl","vocabUrl","BASE_PATH$1","indices","values","executeAsync","dispose"],"sourceRoot":""}