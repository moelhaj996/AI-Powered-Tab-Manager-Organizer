"use strict";(self.webpackChunkai_tab_manager=self.webpackChunkai_tab_manager||[]).push([[948],{8445:(t,e,r)=>{r.d(e,{b:()=>Y});var n=r(2960),i=r(9396);function o(t){return"object"==typeof t}const s="dnd-core/INIT_COORDS",c="dnd-core/BEGIN_DRAG",a="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",l="dnd-core/DROP",d="dnd-core/END_DRAG";function f(t,e){return{type:s,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const g={type:s,payload:{clientOffset:null,sourceClientOffset:null}};function p(t){return function(e=[],r={publishSource:!0}){const{publishSource:n=!0,clientOffset:s,getSourceClientOffset:a}=r,u=t.getMonitor(),l=t.getRegistry();t.dispatch(f(s)),function(t,e,r){(0,i.V)(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach((function(t){(0,i.V)(r.getSource(t),"Expected sourceIds to be registered.")}))}(e,u,l);const d=function(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}(e,u);if(null==d)return void t.dispatch(g);let p=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");!function(t){(0,i.V)("function"==typeof t,"When clientOffset is provided, getSourceClientOffset must be a function.")}(a),p=a(d)}t.dispatch(f(s,p));const h=l.getSource(d).beginDrag(u,d);if(null==h)return;!function(t){(0,i.V)(o(t),"Item must be an object.")}(h),l.pinSource(d);const y=l.getSourceType(d);return{type:c,payload:{itemType:y,item:h,sourceId:d,clientOffset:s||null,sourceClientOffset:p||null,isSourcePublic:!!n}}}}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){h(t,e,r[e])}))}return t}function O(t){return function(e={}){const r=t.getMonitor(),n=t.getRegistry();!function(t){(0,i.V)(t.isDragging(),"Cannot call drop while not dragging."),(0,i.V)(!t.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const s=function(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}(r);s.forEach(((s,c)=>{const a=function(t,e,r,n){const s=r.getTarget(t);let c=s?s.drop(n,t):void 0;return function(t){(0,i.V)(void 0===t||o(t),"Drop result must either be an object or undefined.")}(c),void 0===c&&(c=0===e?{}:n.getDropResult()),c}(s,c,n,r),u={type:l,payload:{dropResult:y({},e,a)}};t.dispatch(u)}))}}function b(t){return function(){const e=t.getMonitor(),r=t.getRegistry();!function(t){(0,i.V)(t.isDragging(),"Cannot call endDrag while not dragging.")}(e);const n=e.getSourceId();return null!=n&&(r.getSource(n,!0).endDrag(e,n),r.unpinSource()),{type:d}}}function S(t,e){return null===e?null===t:Array.isArray(t)?t.some((t=>t===e)):t===e}function I(t){return function(e,{clientOffset:r}={}){!function(t){(0,i.V)(Array.isArray(t),"Expected targetIds to be an array.")}(e);const n=e.slice(0),o=t.getMonitor(),s=t.getRegistry();return function(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n];S(e.getTargetType(i),r)||t.splice(n,1)}}(n,s,o.getItemType()),function(t,e,r){(0,i.V)(e.isDragging(),"Cannot call hover while not dragging."),(0,i.V)(!e.didDrop(),"Cannot call hover after drop.");for(let e=0;e<t.length;e++){const n=t[e];(0,i.V)(t.lastIndexOf(n)===e,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(n);(0,i.V)(o,"Expected targetIds to be registered.")}}(n,o,s),function(t,e,r){t.forEach((function(t){r.getTarget(t).hover(e,t)}))}(n,o,s),{type:u,payload:{targetIds:n,clientOffset:r||null}}}}function T(t){return function(){if(t.getMonitor().isDragging())return{type:a}}}class D{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:e}=this.store,r=function(t){return{beginDrag:p(t),publishDragSource:T(t),hover:I(t),drop:O(t),endDrag:b(t)}}(this);return Object.keys(r).reduce(((n,i)=>{const o=r[i];var s;return n[i]=(s=o,(...r)=>{const n=s.apply(t,r);void 0!==n&&e(n)}),n}),{})}dispatch(t){this.store.dispatch(t)}constructor(t,e){this.isSetUp=!1,this.handleRefCountChange=()=>{const t=this.store.getState().refCount>0;this.backend&&(t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=e,t.subscribe(this.handleRefCountChange)}}function E(t,e){return{x:t.x-e.x,y:t.y-e.y}}const m=[],v=[];m.__IS_NONE__=!0,v.__IS_ALL__=!0;class w{subscribeToStateChange(t,e={}){const{handlerIds:r}=e;(0,i.V)("function"==typeof t,"listener must be a function."),(0,i.V)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const e=this.store.getState(),i=e.stateId;try{const o=i===n||i===n+1&&!function(t,e){return t!==m&&(t===v||void 0===e||(r=t,e.filter((t=>r.indexOf(t)>-1))).length>0);var r}(e.dirtyHandlerIds,r);o||t()}finally{n=i}}))}subscribeToOffsetChange(t){(0,i.V)("function"==typeof t,"listener must be a function.");let e=this.store.getState().dragOffset;return this.store.subscribe((()=>{const r=this.store.getState().dragOffset;r!==e&&(e=r,t())}))}canDragSource(t){if(!t)return!1;const e=this.registry.getSource(t);return(0,i.V)(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()&&e.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const e=this.registry.getTarget(t);return(0,i.V)(e,`Expected to find a valid target. targetId=${t}`),!(!this.isDragging()||this.didDrop())&&(S(this.registry.getTargetType(t),this.getItemType())&&e.canDrop(this,t))}isDragging(){return Boolean(this.getItemType())}isDraggingSource(t){if(!t)return!1;const e=this.registry.getSource(t,!0);return(0,i.V)(e,`Expected to find a valid source. sourceId=${t}`),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(t)===this.getItemType()&&e.isDragging(this,t))}isOverTarget(t,e={shallow:!1}){if(!t)return!1;const{shallow:r}=e;if(!this.isDragging())return!1;const n=this.registry.getTargetType(t),i=this.getItemType();if(i&&!S(n,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(t);return r?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return e&&r&&n?E((o=n,{x:(i=e).x+o.x,y:i.y+o.y}),r):null;var i,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(t){const{clientOffset:e,initialClientOffset:r}=t;return e&&r?E(e,r):null}(this.store.getState().dragOffset)}constructor(t,e){this.store=t,this.registry=e}}var C=r(9021);const R="dnd-core/ADD_SOURCE",V="dnd-core/ADD_TARGET",x="dnd-core/REMOVE_SOURCE",_="dnd-core/REMOVE_TARGET";function P(t,e){e&&Array.isArray(t)?t.forEach((t=>P(t,!1))):(0,i.V)("string"==typeof t||"symbol"==typeof t,e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var j;!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(j||(j={}));let A=0;function k(t){switch(t[0]){case"S":return j.SOURCE;case"T":return j.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function U(t,e){const r=t.entries();let n=!1;do{const{done:t,value:[,i]}=r.next();if(i===e)return!0;n=!!t}while(!n);return!1}class G{addSource(t,e){P(t),function(t){(0,i.V)("function"==typeof t.canDrag,"Expected canDrag to be a function."),(0,i.V)("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),(0,i.V)("function"==typeof t.endDrag,"Expected endDrag to be a function.")}(e);const r=this.addHandler(j.SOURCE,t,e);return this.store.dispatch(function(t){return{type:R,payload:{sourceId:t}}}(r)),r}addTarget(t,e){P(t,!0),function(t){(0,i.V)("function"==typeof t.canDrop,"Expected canDrop to be a function."),(0,i.V)("function"==typeof t.hover,"Expected hover to be a function."),(0,i.V)("function"==typeof t.drop,"Expected beginDrag to be a function.")}(e);const r=this.addHandler(j.TARGET,t,e);return this.store.dispatch(function(t){return{type:V,payload:{targetId:t}}}(r)),r}containsHandler(t){return U(this.dragSources,t)||U(this.dropTargets,t)}getSource(t,e=!1){return(0,i.V)(this.isSourceId(t),"Expected a valid source ID."),e&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return(0,i.V)(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return(0,i.V)(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return(0,i.V)(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return k(t)===j.SOURCE}isTargetId(t){return k(t)===j.TARGET}removeSource(t){(0,i.V)(this.getSource(t),"Expected an existing source."),this.store.dispatch(function(t){return{type:x,payload:{sourceId:t}}}(t)),(0,C.Id)((()=>{this.dragSources.delete(t),this.types.delete(t)}))}removeTarget(t){(0,i.V)(this.getTarget(t),"Expected an existing target."),this.store.dispatch(function(t){return{type:_,payload:{targetId:t}}}(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const e=this.getSource(t);(0,i.V)(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}unpinSource(){(0,i.V)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,e,r){const n=function(t){const e=(A++).toString();switch(t){case j.SOURCE:return`S${e}`;case j.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}(t);return this.types.set(n,e),t===j.SOURCE?this.dragSources.set(n,r):t===j.TARGET&&this.dropTargets.set(n,r),n}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const M=(t,e)=>t===e;function H(t=m,e){switch(e.type){case u:break;case R:case V:case _:case x:return m;default:return v}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=function(t,e){const r=new Map,n=t=>{r.set(t,r.has(t)?r.get(t)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach(((t,e)=>{1===t&&i.push(e)})),i}(r,n);if(!(i.length>0)&&function(t,e,r=M){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}(r,n))return m;const o=n[n.length-1],s=r[r.length-1];return o!==s&&(o&&i.push(o),s&&i.push(s)),i}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const $={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function B(t=$,e){const{payload:r}=e;switch(e.type){case s:case c:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case u:return n=t.clientOffset,i=r.clientOffset,!n&&!i||n&&i&&n.x===i.x&&n.y===i.y?t:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){N(t,e,r[e])}))}return t}({},t,{clientOffset:r.clientOffset});case d:case l:return $;default:return t}var n,i}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){L(t,e,r[e])}))}return t}const q={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function F(t=q,e){const{payload:r}=e;switch(e.type){case c:return X({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case a:return X({},t,{isSourcePublic:!0});case u:return X({},t,{targetIds:r.targetIds});case _:return-1===t.targetIds.indexOf(r.targetId)?t:X({},t,{targetIds:(n=t.targetIds,i=r.targetId,n.filter((t=>t!==i)))});case l:return X({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case d:return X({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}var n,i}function W(t=0,e){switch(e.type){case R:case V:return t+1;case x:case _:return t-1;default:return t}}function z(t=0){return t+1}function J(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){J(t,e,r[e])}))}return t}function Q(t={},e){return{dirtyHandlerIds:H(t.dirtyHandlerIds,{type:e.type,payload:K({},e.payload,{prevTargetIds:(r=t,n=[],"dragOperation.targetIds".split(".").reduce(((t,e)=>t&&t[e]?t[e]:n||null),r))})}),dragOffset:B(t.dragOffset,e),refCount:W(t.refCount,e),dragOperation:F(t.dragOperation,e),stateId:z(t.stateId)};var r,n}function Y(t,e=void 0,r={},i=!1){const o=function(t){const e="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,n.y$)(Q,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}(i),s=new w(o,new G(o)),c=new D(o,s),a=t(c,e,r);return c.receiveBackend(a),c}}}]);
//# sourceMappingURL=vendor-dnd-core.js.map